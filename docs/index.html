<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="David Kim">

<title>DATA304-hw5-Portfolio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="hw 6_files/libs/clipboard/clipboard.min.js"></script>
<script src="hw 6_files/libs/quarto-html/quarto.js"></script>
<script src="hw 6_files/libs/quarto-html/popper.min.js"></script>
<script src="hw 6_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="hw 6_files/libs/quarto-html/anchor.min.js"></script>
<link href="hw 6_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="hw 6_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="hw 6_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="hw 6_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="hw 6_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">DATA304-hw5-Portfolio</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>David Kim </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="percent-of-men-and-women-in-various-occupations-1950-and-2000." class="level2">
<h2 class="anchored" data-anchor-id="percent-of-men-and-women-in-various-occupations-1950-and-2000.">Percent of men and women in various occupations 1950 and 2000.</h2>
<div class="cell" data-execution_count="2">
<div class="cell-output cell-output-display" data-execution_count="54">

<style>
  #altair-viz-f682b792e70f4420b09e04dee98cba6b.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-f682b792e70f4420b09e04dee98cba6b.vega-embed details,
  #altair-viz-f682b792e70f4420b09e04dee98cba6b.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-f682b792e70f4420b09e04dee98cba6b"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-f682b792e70f4420b09e04dee98cba6b") {
      outputDiv = document.getElementById("altair-viz-f682b792e70f4420b09e04dee98cba6b");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.8.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"url": "altair-data-ac16e648372efb4e869f61bb9ce13513.json", "format": {"type": "json"}}, "mark": {"type": "point", "filled": true}, "encoding": {"column": {"field": "sex", "type": "nominal"}, "tooltip": [{"field": "job", "type": "nominal"}, {"field": "sex", "type": "nominal"}], "x": {"field": "1950", "scale": {"constant": 0.0001, "type": "symlog"}, "type": "quantitative"}, "y": {"field": "2000", "scale": {"constant": 0.0001, "type": "symlog"}, "type": "quantitative"}}, "height": 150, "params": [{"name": "param_13", "select": {"type": "interval", "encodings": ["x", "y"]}, "bind": "scales"}], "transform": [{"pivot": "year", "value": "perc", "groupby": ["job", "sex"]}], "width": 150, "$schema": "https://vega.github.io/schema/vega-lite/v5.8.0.json"}, {"mode": "vega-lite"});
</script>
</div>
</div>
</section>
<section id="percent-of-men-and-women-in-farmer-and-professor-occupations-over-time." class="level2">
<h2 class="anchored" data-anchor-id="percent-of-men-and-women-in-farmer-and-professor-occupations-over-time.">Percent of men and women in farmer and professor occupations over time.</h2>
<div class="cell" data-execution_count="3">
<div class="cell-output cell-output-display" data-execution_count="55">

<style>
  #altair-viz-2a95817439d341b080cf211e8f9acefc.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-2a95817439d341b080cf211e8f9acefc.vega-embed details,
  #altair-viz-2a95817439d341b080cf211e8f9acefc.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-2a95817439d341b080cf211e8f9acefc"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-2a95817439d341b080cf211e8f9acefc") {
      outputDiv = document.getElementById("altair-viz-2a95817439d341b080cf211e8f9acefc");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.8.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"url": "altair-data-ac16e648372efb4e869f61bb9ce13513.json", "format": {"type": "json"}}, "mark": {"type": "line", "point": true}, "encoding": {"color": {"field": "job", "title": "Job", "type": "nominal"}, "row": {"field": "sex", "type": "nominal"}, "x": {"field": "year", "type": "nominal"}, "y": {"field": "perc", "scale": {"constant": 0.0001, "type": "symlog"}, "type": "quantitative"}}, "height": 100, "params": [{"name": "param_14", "select": {"type": "interval", "encodings": ["x", "y"]}, "bind": "scales"}], "title": "Gender Disparities in Farmer and Professor Occupations Over Time", "transform": [{"filter": "((datum.job === 'Farmer') || (datum.job === 'Professor'))"}], "width": 600, "$schema": "https://vega.github.io/schema/vega-lite/v5.8.0.json"}, {"mode": "vega-lite"});
</script>
</div>
</div>
</section>
<section id="number-of-women-bakers-exceeds-men-bakers-since-1950" class="level2">
<h2 class="anchored" data-anchor-id="number-of-women-bakers-exceeds-men-bakers-since-1950">Number of women bakers exceeds men bakers since 1950</h2>
<div class="cell" data-execution_count="4">
<div class="cell-output cell-output-display" data-execution_count="56">

<style>
  #altair-viz-42accfa705a44327a9fdaf56ddc63b48.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-42accfa705a44327a9fdaf56ddc63b48.vega-embed details,
  #altair-viz-42accfa705a44327a9fdaf56ddc63b48.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-42accfa705a44327a9fdaf56ddc63b48"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-42accfa705a44327a9fdaf56ddc63b48") {
      outputDiv = document.getElementById("altair-viz-42accfa705a44327a9fdaf56ddc63b48");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.8.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"url": "altair-data-ac16e648372efb4e869f61bb9ce13513.json", "format": {"type": "json"}}, "mark": {"type": "line", "point": true}, "encoding": {"color": {"field": "sex", "title": "sex", "type": "nominal"}, "x": {"field": "year", "type": "nominal"}, "y": {"field": "count", "scale": {"type": "linear"}, "type": "quantitative"}}, "height": 100, "params": [{"name": "param_15", "select": {"type": "interval", "encodings": ["x", "y"]}, "bind": "scales"}], "transform": [{"filter": "(datum.job === 'Baker')"}], "width": 600, "$schema": "https://vega.github.io/schema/vega-lite/v5.8.0.json"}, {"mode": "vega-lite"});
</script>
</div>
</div>
<div class="cell" data-execution_count="5">
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'dict'&gt;
dict_keys(['type', 'objects', 'arcs', 'bbox', 'transform'])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="6">
<div class="cell-output cell-output-stdout">
<pre><code>['Fiji', 'Tanzania', 'W. Sahara', 'Canada', 'United States of America']</code></pre>
</div>
</div>
<div class="cell" data-execution_count="7">
<div class="cell-output cell-output-stdout">
<pre><code>missing in map: 38 ['St. Vincent and the Grenadines', 'West Bank and Gaza', 'Seychelles', 'Samoa', 'Macedonia, FYR', 'Antigua and Barbuda', 'United States', 'Maldives', 'Dominican Republic', 'Micronesia, Fed. Sts.', 'Cape Verde', 'Mauritius', 'Czech Republic', 'St. Lucia', 'Marshall Islands', 'Bosnia and Herzegovina', 'South Sudan', "Cote d'Ivoire", 'Malta', 'Kyrgyz Republic', 'Tonga', 'Swaziland', 'Solomon Islands', 'Dominica', 'Kiribati', 'Central African Republic', 'Lao', 'Sao Tome and Principe', 'Singapore', 'Congo, Dem. Rep.', 'Comoros', 'Bahrain', 'Congo, Rep.', 'Equatorial Guinea', 'Grenada', 'Slovak Republic', 'Andorra', 'Barbados']
extra in map 28 ['Palestine', 'Antarctica', 'Congo', 'Taiwan', 'eSwatini', 'Dem. Rep. Congo', 'Bosnia and Herz.', 'Kyrgyzstan', 'Eq. Guinea', 'S. Sudan', 'Falkland Is.', 'United States of America', 'Macedonia', 'Somaliland', 'Fr. S. Antarctic Lands', 'New Caledonia', 'Solomon Is.', 'Kosovo', 'Central African Rep.', 'W. Sahara', 'Puerto Rico', "Côte d'Ivoire", 'Greenland', 'Czechia', 'Dominican Rep.', 'Slovakia', 'Laos', 'N. Cyprus']</code></pre>
</div>
</div>
</section>
<section id="choropleth-map-of-the-world-based-on-income" class="level2">
<h2 class="anchored" data-anchor-id="choropleth-map-of-the-world-based-on-income">Choropleth map of the World based on income</h2>
<div class="cell" data-execution_count="9">
<div class="cell-output cell-output-display" data-execution_count="61">

<style>
  #altair-viz-968f2192f9c648808badd8440dba1cdf.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-968f2192f9c648808badd8440dba1cdf.vega-embed details,
  #altair-viz-968f2192f9c648808badd8440dba1cdf.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-968f2192f9c648808badd8440dba1cdf"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-968f2192f9c648808badd8440dba1cdf") {
      outputDiv = document.getElementById("altair-viz-968f2192f9c648808badd8440dba1cdf");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.8.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"url": "https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json", "format": {"feature": "countries", "type": "topojson"}}, "mark": {"type": "geoshape"}, "encoding": {"fill": {"field": "income", "type": "quantitative"}, "stroke": {"field": "income", "type": "quantitative"}, "tooltip": [{"field": "income", "type": "quantitative"}, {"field": "properties.name", "type": "nominal"}]}, "height": 400, "projection": {"type": "equalEarth"}, "transform": [{"lookup": "properties.name", "from": {"data": {"url": "altair-data-eb8612aa7c8bb07026fbbb8690caa8f8.json", "format": {"type": "json"}}, "key": "country", "fields": ["income"]}}], "width": 600, "$schema": "https://vega.github.io/schema/vega-lite/v5.8.0.json"}, {"mode": "vega-lite"});
</script>
</div>
</div>
</section>
<section id="united-states-state-map" class="level2">
<h2 class="anchored" data-anchor-id="united-states-state-map">United States state map</h2>
<div class="cell" data-execution_count="10">
<div class="cell-output cell-output-display" data-execution_count="62">

<style>
  #altair-viz-f57664401e894f20b214c038d4bbb9ac.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-f57664401e894f20b214c038d4bbb9ac.vega-embed details,
  #altair-viz-f57664401e894f20b214c038d4bbb9ac.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-f57664401e894f20b214c038d4bbb9ac"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-f57664401e894f20b214c038d4bbb9ac") {
      outputDiv = document.getElementById("altair-viz-f57664401e894f20b214c038d4bbb9ac");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.8.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"url": "https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json", "format": {"feature": "states", "type": "topojson"}}, "mark": {"type": "geoshape", "fill": "transparent", "stroke": "steelblue"}, "encoding": {"tooltip": [{"field": "properties.name", "type": "nominal"}, {"field": "airport_count", "type": "quantitative"}]}, "height": 300, "projection": {"type": "albersUsa"}, "width": 500, "$schema": "https://vega.github.io/schema/vega-lite/v5.8.0.json"}, {"mode": "vega-lite"});
</script>
</div>
</div>
<section id="check-if-the-state-name-in-map-datast-matches-the-state-name-in-auxiliary-data." class="level4">
<h4 class="anchored" data-anchor-id="check-if-the-state-name-in-map-datast-matches-the-state-name-in-auxiliary-data.">Check if the state name in map datast matches the state name in auxiliary data.</h4>
<div class="cell" data-execution_count="11">
<div class="cell-output cell-output-stdout">
<pre><code>['Alabama', 'Alaska', 'Arizona', 'Colorado', 'Florida']
in common: 0 []
missing state in map: 57 ['LA', 'IA', 'PR', 'NY', 'AK', 'AL', 'MT', 'GU', 'MS', 'ME', 'RI', 'ND', 'ID', 'PA', 'WY', 'VT', 'NM', 'OK', 'CQ', 'GA', 'AR', 'MD', 'IN', 'SD', 'TX', 'SC', 'WI', 'DE', 'HI', 'KS', 'MA', 'KY', 'UT', 'MO', 'AS', 'VI', 'FL', 'IL', 'WV', 'VA', 'WA', 'NH', 'NV', 'AZ', 'NJ', 'OH', 'DC', 'NC', 'TN', 'CO', 'CA', 'OR', 'MI', 'MN', nan, 'CT', 'NE']
extra state in map 56 ['Guam', 'Wisconsin', 'Hawaii', 'Oregon', 'United States Virgin Islands', 'Kansas', 'Arkansas', 'North Dakota', 'Nebraska', 'Alaska', 'Georgia', 'Idaho', 'Massachusetts', 'Maine', 'Pennsylvania', 'Connecticut', 'New York', 'Kentucky', 'Mississippi', 'New Hampshire', 'District of Columbia', 'Maryland', 'Utah', 'Commonwealth of the Northern Mariana Islands', 'California', 'Delaware', 'Wyoming', 'Florida', 'Virginia', 'Iowa', 'Michigan', 'South Carolina', 'Indiana', 'Minnesota', 'North Carolina', 'Vermont', 'Tennessee', 'New Jersey', 'Arizona', 'South Dakota', 'Ohio', 'Puerto Rico', 'West Virginia', 'Oklahoma', 'American Samoa', 'Nevada', 'Louisiana', 'Rhode Island', 'Illinois', 'Washington', 'Alabama', 'Missouri', 'Texas', 'Montana', 'Colorado', 'New Mexico']</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="63">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">iata</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">city</th>
<th data-quarto-table-cell-role="th">state</th>
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>00M</td>
<td>Thigpen</td>
<td>Bay Springs</td>
<td>Mississippi</td>
<td>USA</td>
<td>31.953765</td>
<td>-89.234505</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>00R</td>
<td>Livingston Municipal</td>
<td>Livingston</td>
<td>Texas</td>
<td>USA</td>
<td>30.685861</td>
<td>-95.017928</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>00V</td>
<td>Meadow Lake</td>
<td>Colorado Springs</td>
<td>Colorado</td>
<td>USA</td>
<td>38.945749</td>
<td>-104.569893</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>01G</td>
<td>Perry-Warsaw</td>
<td>Perry</td>
<td>New York</td>
<td>USA</td>
<td>42.741347</td>
<td>-78.052081</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>01J</td>
<td>Hilliard Airpark</td>
<td>Hilliard</td>
<td>Florida</td>
<td>USA</td>
<td>30.688012</td>
<td>-81.905944</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3371</td>
<td>ZEF</td>
<td>Elkin Municipal</td>
<td>Elkin</td>
<td>North Carolina</td>
<td>USA</td>
<td>36.280024</td>
<td>-80.786069</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3372</td>
<td>ZER</td>
<td>Schuylkill Cty/Joe Zerbey</td>
<td>Pottsville</td>
<td>Pennsylvania</td>
<td>USA</td>
<td>40.706449</td>
<td>-76.373147</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3373</td>
<td>ZPH</td>
<td>Zephyrhills Municipal</td>
<td>Zephyrhills</td>
<td>Florida</td>
<td>USA</td>
<td>28.228065</td>
<td>-82.155916</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3374</td>
<td>ZUN</td>
<td>Black Rock</td>
<td>Zuni</td>
<td>New Mexico</td>
<td>USA</td>
<td>35.083227</td>
<td>-108.791777</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3375</td>
<td>ZZV</td>
<td>Zanesville Municipal</td>
<td>Zanesville</td>
<td>Ohio</td>
<td>USA</td>
<td>39.944458</td>
<td>-81.892105</td>
</tr>
</tbody>
</table>

<p>3376 rows × 7 columns</p>
</div>
</div>
</div>
</section>
<section id="group-up-airports-by-state-to-get-the-count-of-airports-in-each-state" class="level3">
<h3 class="anchored" data-anchor-id="group-up-airports-by-state-to-get-the-count-of-airports-in-each-state">group up airports by state to get the count of airports in each state</h3>
<div class="cell" data-execution_count="12">
<div class="cell-output cell-output-display" data-execution_count="64">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">state</th>
<th data-quarto-table-cell-role="th">airport_count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama</td>
<td>73</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Alaska</td>
<td>263</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>American Samoa</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Arizona</td>
<td>59</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Arkansas</td>
<td>74</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>California</td>
<td>205</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Colorado</td>
<td>49</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Commonwealth of the Northern Mariana Islands</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Connecticut</td>
<td>15</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Delaware</td>
<td>5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>District of Columbia</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Florida</td>
<td>100</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>Georgia</td>
<td>97</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>Guam</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>Hawaii</td>
<td>16</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>Idaho</td>
<td>37</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>Illinois</td>
<td>88</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>Indiana</td>
<td>65</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>Iowa</td>
<td>78</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>Kansas</td>
<td>78</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20</td>
<td>Kentucky</td>
<td>50</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>Louisiana</td>
<td>55</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>Maine</td>
<td>34</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">23</td>
<td>Maryland</td>
<td>18</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">24</td>
<td>Massachusetts</td>
<td>30</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">25</td>
<td>Michigan</td>
<td>94</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">26</td>
<td>Minnesota</td>
<td>89</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">27</td>
<td>Mississippi</td>
<td>72</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28</td>
<td>Missouri</td>
<td>74</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">29</td>
<td>Montana</td>
<td>71</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">30</td>
<td>Nebraska</td>
<td>73</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31</td>
<td>Nevada</td>
<td>32</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32</td>
<td>New Hampshire</td>
<td>14</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">33</td>
<td>New Jersey</td>
<td>35</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">34</td>
<td>New Mexico</td>
<td>51</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">35</td>
<td>New York</td>
<td>97</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">36</td>
<td>North Carolina</td>
<td>72</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">37</td>
<td>North Dakota</td>
<td>52</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">38</td>
<td>Ohio</td>
<td>100</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">39</td>
<td>Oklahoma</td>
<td>102</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">40</td>
<td>Oregon</td>
<td>57</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">41</td>
<td>Pennsylvania</td>
<td>71</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">42</td>
<td>Puerto Rico</td>
<td>11</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">43</td>
<td>Rhode Island</td>
<td>6</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">44</td>
<td>South Carolina</td>
<td>52</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">45</td>
<td>South Dakota</td>
<td>57</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">46</td>
<td>Tennessee</td>
<td>70</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">47</td>
<td>Texas</td>
<td>209</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">48</td>
<td>United States Virgin Islands</td>
<td>5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">49</td>
<td>Utah</td>
<td>35</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">50</td>
<td>Vermont</td>
<td>13</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">51</td>
<td>Virginia</td>
<td>47</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">52</td>
<td>Washington</td>
<td>65</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">53</td>
<td>West Virginia</td>
<td>24</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">54</td>
<td>Wisconsin</td>
<td>84</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">55</td>
<td>Wyoming</td>
<td>32</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="number-of-airport-in-each-state" class="level2">
<h2 class="anchored" data-anchor-id="number-of-airport-in-each-state">Number of airport in each state</h2>
<div class="cell" data-execution_count="13">
<div class="cell-output cell-output-display" data-execution_count="65">

<style>
  #altair-viz-9a36750d42b84229b41f87b25d415cb9.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-9a36750d42b84229b41f87b25d415cb9.vega-embed details,
  #altair-viz-9a36750d42b84229b41f87b25d415cb9.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-9a36750d42b84229b41f87b25d415cb9"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-9a36750d42b84229b41f87b25d415cb9") {
      outputDiv = document.getElementById("altair-viz-9a36750d42b84229b41f87b25d415cb9");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.8.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"url": "https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json", "format": {"feature": "states", "type": "topojson"}}, "mark": {"type": "geoshape", "fill": "transparent", "stroke": "steelblue"}, "encoding": {"fill": {"field": "airport_count", "type": "quantitative"}, "stroke": {"field": "airport_count", "type": "quantitative"}, "tooltip": [{"field": "properties.name", "type": "nominal"}, {"field": "airport_count", "type": "quantitative"}]}, "height": 400, "projection": {"type": "albersUsa"}, "transform": [{"lookup": "properties.name", "from": {"data": {"url": "altair-data-0bd58b3a9bf7f7c1e5ff516f10f5ab13.json", "format": {"type": "json"}}, "key": "state", "fields": ["airport_count"]}}], "width": 600, "$schema": "https://vega.github.io/schema/vega-lite/v5.8.0.json"}, {"mode": "vega-lite"});
</script>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>
